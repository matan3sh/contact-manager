(this.webpackJsonptravelfactory=this.webpackJsonptravelfactory||[]).push([[0],{29:function(e,t,a){e.exports=a(53)},52:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(10),c=a.n(r),s=a(3),l=a(6),i=a(27),m=a(28),p=a(17),u={contacts:[]};var d=Object(l.combineReducers)({contactApp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CONTACTS":return Object(p.a)(Object(p.a)({},e),{},{contacts:t.payload});default:return e}}}),h=Object(l.createStore)(d,Object(i.composeWithDevTools)(Object(l.applyMiddleware)(m.a))),v=a(8),y=a.n(v),f=a(12),C=a(1),g=a(2),E=a(5),b=a(4),j=[{id:"GXj93KOkqZoC",name:"John Smith",role:"Graphics Designer",address:"Reviera State 32/106",company:{name:"Twitter, Inc",address:"795 Folsom Ave, Suite 600 San Francisco, CA 94107",phone:"(123)456-7890"},img:"https://res.cloudinary.com/dwymjj6rm/image/upload/v1593501836/TravelFactory/john-smith.jpg"},{id:"JYOJa2NpSCq",name:"Alex Johnatan",role:"CEO",address:"Reviera State 32/106",company:{name:"Twitter, Inc",address:"795 Folsom Ave, Suite 600 San Francisco, CA 94107",phone:"(123)456-7890"},img:"https://res.cloudinary.com/dwymjj6rm/image/upload/v1593501836/TravelFactory/alex_jonathan.jpg"},{id:"1y0Oqts35DQ",name:"Monica Smith",role:"Marketing Manager",address:"Reviera State 32/106",company:{name:"Twitter, Inc",address:"795 Folsom Ave, Suite 600 San Francisco, CA 94107",phone:"(123)456-7890"},img:"https://res.cloudinary.com/dwymjj6rm/image/upload/v1593501836/TravelFactory/monica_smith.jpg"},{id:"kSnfIJyikTP",name:"Michael Zimber",role:"Sales Manager",address:"Reviera State 32/106",company:{name:"Twitter, Inc",address:"795 Folsom Ave, Suite 600 San Francisco, CA 94107",phone:"(123)456-7890"},img:"https://res.cloudinary.com/dwymjj6rm/image/upload/v1593501836/TravelFactory/michael_zimber.jpg"},{id:"f4iuVmbuKCC",name:"Sandra Smith",role:"Graphics Designer",address:"Reviera State 32/106",company:{name:"Twitter, Inc",address:"795 Folsom Ave, Suite 600 San Francisco, CA 94107",phone:"(123)456-7890"},img:"https://res.cloudinary.com/dwymjj6rm/image/upload/v1593501836/TravelFactory/sandra_smith.jpg"},{id:"U2rfZO6oBZf",name:"Janet Carton",role:"Graphics Designer",address:"Reviera State 32/106",company:{name:"Twitter, Inc",address:"795 Folsom Ave, Suite 600 San Francisco, CA 94107",phone:"(123)456-7890"},img:"https://res.cloudinary.com/dwymjj6rm/image/upload/v1593501836/TravelFactory/janeth_carton.jpg"}];var A={getDefaultData:function(){return j}};var S={store:function(e,t){localStorage[e]=JSON.stringify(t)},load:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=localStorage[e];return a?JSON.parse(a):t}},O={query:function(){return Promise.resolve(w)},remove:function(e){var t=w.findIndex((function(t){return t.id===e}));return w.splice(t,1),S.store(N,w),Promise.resolve()},save:function(e){if(e.id){var t=w.findIndex((function(t){return t.id===e.id}));w.splice(t,1,e)}else e.id=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:11,t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=a.charAt(Math.floor(Math.random()*a.length));return t}(),e.img="https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_1280.png",w.unshift(e);return S.store(N,w),Promise.resolve(e)}},N="contacts",w=null;function x(e){return function(t){var a=e.id?"UPDATE_CONTACT":"ADD_CONTACT";try{t({type:a,payload:e}),O.save(e).then((function(e){return console.log(e)}))}catch(n){console.log(n)}}}!function(){var e=A.getDefaultData();w=S.load(N,e),S.store(N,w)}();var T=a(18),D=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(C.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={lat:null,lng:null},e.getCoords=function(){var t=Object(f.a)(y.a.mark((function t(a){var n,o;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(T.geocodeByAddress)(a);case 2:return n=t.sent,t.next=5,Object(T.getLatLng)(n[0]);case 5:o=t.sent,e.setState({lat:o.lat,lng:o.lng});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(g.a)(a,[{key:"componentDidMount",value:function(){this.getCoords(this.props.contact.company.address)}},{key:"render",value:function(){var e=this.props,t=e.contact,a=e.onDelete,n=e.onEdit;return o.a.createElement("div",{className:"card-container"},o.a.createElement("div",{className:"card-left"},o.a.createElement("img",{src:t.img,alt:"contact-thumb"}),o.a.createElement("p",null,t.role)),o.a.createElement("div",{className:"card-right"},o.a.createElement("h3",null,t.name),o.a.createElement("div",{className:"contact-address"},o.a.createElement("i",{className:"fas fa-map-marker-alt"})," ",o.a.createElement("span",null,t.address),null!==this.state.lat&&null!==this.state.lng?o.a.createElement("p",{className:"coords"},o.a.createElement("span",null,"Lat:")," ",this.state.lat.toFixed(2)," ",o.a.createElement("span",null," Lng:")," ",this.state.lng.toFixed(2)):""),o.a.createElement("div",{className:"company-address"},o.a.createElement("h4",null,t.company.name),o.a.createElement("p",null,t.company.address),o.a.createElement("span",null,"P: ",t.company.phone)),o.a.createElement("div",{className:"edit-delete"},o.a.createElement("span",{onClick:function(){return n(t)}},o.a.createElement("i",{className:"fas fa-pen"})),o.a.createElement("span",{onClick:function(){return a(t.id)}},o.a.createElement("i",{className:"fas fa-trash-alt pointer"})))))}}]),a}(o.a.Component),k=function(e){var t=e.contacts,a=e.onDelete,n=e.onEdit,r=e.onAdd;return o.a.createElement("div",{className:"container"},t.map((function(e){return o.a.createElement(D,{contact:e,key:e.id,onDelete:a,onEdit:n})})),o.a.createElement("button",{className:"add-btn",onClick:function(){return r()}},o.a.createElement("i",{className:"fas fa-plus-square fa-5x"})))},F=a(7),M=a(9),P=a.n(M);a(24),a(25);P.a.setAppElement("#root");var R=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(C.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={name:e.props.contact.name,role:e.props.contact.role,address:e.props.contact.address,companyName:e.props.contact.company.name,companyAddress:e.props.contact.company.address,companyPhone:e.props.contact.company.phone},e.onChange=function(t){var a=t.target,n=a.name,o="number"===a.type?+a.value:a.value;e.setState(Object(F.a)({},n,o))},e.onSumbit=function(t){t.preventDefault();var a=e.state,n=a.name,o=a.role,r=a.address,c=a.companyName,s=a.companyAddress,l=a.companyPhone,i={id:e.props.contact.id,name:n,role:o,address:r,company:{name:c,address:s,phone:l},img:e.props.contact.img};e.props.saveContact(i),e.props.onClose()},e}return Object(g.a)(a,[{key:"render",value:function(){var e=this.props,t=e.openModal,a=e.onClose,n=e.contact,r=this.state,c=r.name,s=r.role,l=r.address,i=r.companyName,m=r.companyAddress,p=r.companyPhone;return o.a.createElement(P.a,{isOpen:t,onRequestClose:function(){return a()},className:"modal",overlayClassName:"overlay"},o.a.createElement("form",{onSubmit:this.onSumbit,className:"form-container"},o.a.createElement("img",{src:n.img,alt:"contact-thumb"}),o.a.createElement("input",{type:"text",name:"name",placeholder:"Contact Name",value:c,onChange:this.onChange}),o.a.createElement("input",{type:"text",name:"role",placeholder:"Contact Role",value:s,onChange:this.onChange}),o.a.createElement("input",{type:"text",name:"address",placeholder:"Contact Address",value:l,onChange:this.onChange}),o.a.createElement("input",{type:"text",name:"companyName",placeholder:"Contact Company Name",value:i,onChange:this.onChange}),o.a.createElement("input",{type:"text",name:"companyAddress",placeholder:"Contact Company Address",value:m,onChange:this.onChange}),o.a.createElement("input",{type:"text",name:"companyPhone",placeholder:"Contact Company Phone",value:p,onChange:this.onChange}),o.a.createElement("button",{type:"submit",className:"btn"},"Update")))}}]),a}(n.Component),_={saveContact:x},I=Object(s.b)(null,_)(R);P.a.setAppElement("#root");var J=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(C.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={name:"",role:"",address:"",companyName:"",companyAddress:"",companyPhone:""},e.onChange=function(t){var a=t.target,n=a.name,o="number"===a.type?+a.value:a.value;e.setState(Object(F.a)({},n,o))},e.onSumbit=function(t){t.preventDefault();var a=e.state,n={name:a.name,role:a.role,address:a.address,company:{name:a.companyName,address:a.companyAddress,phone:a.companyPhone}};e.props.saveContact(n),e.props.onClose()},e}return Object(g.a)(a,[{key:"render",value:function(){var e=this.props,t=e.openModal,a=e.onClose,n=this.state,r=n.name,c=n.role,s=n.address,l=n.companyName,i=n.companyAddress,m=n.companyPhone;return o.a.createElement(P.a,{isOpen:t,onRequestClose:function(){return a()},className:"modal",overlayClassName:"overlay"},o.a.createElement("form",{onSubmit:this.onSumbit,className:"form-container"},o.a.createElement("img",{src:"https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_1280.png",alt:"contact-thumb"}),o.a.createElement("input",{type:"text",name:"name",placeholder:"Contact Name",value:r,onChange:this.onChange}),o.a.createElement("input",{type:"text",name:"role",placeholder:"Contact Role",value:c,onChange:this.onChange}),o.a.createElement("input",{type:"text",name:"address",placeholder:"Contact Address",value:s,onChange:this.onChange}),o.a.createElement("input",{type:"text",name:"companyName",placeholder:"Contact Company Name",value:l,onChange:this.onChange}),o.a.createElement("input",{type:"text",name:"companyAddress",placeholder:"Contact Company Address",value:i,onChange:this.onChange}),o.a.createElement("input",{type:"text",name:"companyPhone",placeholder:"Contact Company Phone",value:m,onChange:this.onChange}),o.a.createElement("button",{type:"submit",className:"btn"},"Add Contact")))}}]),a}(n.Component),q={saveContact:x},L=Object(s.b)(null,q)(J),B=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(C.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={openModal:!1,currContact:null},e.onDelete=function(t){e.props.removeContact(t),e.forceUpdate()},e.onEdit=function(t){e.setState({openModal:!0,currContact:t})},e.onClose=function(){e.setState({openModal:!1,currContact:null})},e.onAdd=function(){e.setState({openModal:!0})},e}return Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=Object(f.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.loadContacts();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.contacts,t=this.state,a=t.openModal,n=t.currContact;return o.a.createElement(o.a.Fragment,null,e.length?o.a.createElement(k,{contacts:e,onDelete:this.onDelete,onEdit:this.onEdit,onAdd:this.onAdd}):"Loading Contacts",null!==n&&o.a.createElement(I,{openModal:a,onClose:this.onClose,contact:n}),o.a.createElement(L,{openModal:a,onClose:this.onClose}))}}]),a}(n.Component),G={loadContacts:function(){return function(e){try{O.query().then((function(t){return e({type:"SET_CONTACTS",payload:t})}))}catch(t){console.log(t)}}},removeContact:function(e){return function(t){try{O.remove(e).then((function(){return t({type:"REMOVE_CONTACT",payload:e})}))}catch(a){console.log(a)}}}},U=Object(s.b)((function(e){return{contacts:e.contactApp.contacts}}),G)(B);var Z=function(){return o.a.createElement(s.a,{store:h},o.a.createElement(U,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(52);c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(Z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.198beb43.chunk.js.map